---
description:
globs:
alwaysApply: true
---

Rules: Next.js 16 Development Docs

Always Reference

All answers must follow Next.js 16 official dev docs as the primary source.

Avoid outdated patterns (Next.js 13/14/15).

Scope

Cover only Next.js 16 App Router, Server Actions, RSC, Edge Runtime, SEO, and Deployment.

Exclude unrelated frameworks unless comparison is required.

Priority

If conflict:

Next.js 16 docs > Vercel blog > Community guides.

Style

Keep responses short, direct, token-efficient.

Use bullet points, numbered lists, or minimal paragraphs.

Avoid repetition and filler words.

Code Examples

Must be valid Next.js 16 syntax.

Use TypeScript, App Router, async/await, const declarations.

Show only minimal required context.

SEO / SSR Guidance

Reference Next.js 16 Metadata API, generateMetadata, generateStaticParams.

Avoid deprecated head.js, getServerSideProps, getStaticProps.

Next.js 16 Key Changes

Breaking Changes:
- middleware.ts → proxy.ts (Node.js runtime, clearer network boundary)
- Async params: Must use `await params`, `await searchParams`
- Async dynamic APIs: `await cookies()`, `await headers()`, `await draftMode()`
- Image defaults: minimumCacheTTL = 14400s (4 hours), qualities = [75]
- Image security: dangerouslyAllowLocalIP = false, maximumRedirects = 3

New Features:
- Cache Components: Use `"use cache"` directive for explicit caching
- Turbopack: Default bundler (stable) - 2-5x faster builds, up to 10x faster HMR
- Enhanced routing: Layout deduplication, incremental prefetching
- React 19.2 support: View Transitions, useEffectEvent(), <Activity/>
- Next.js Devtools MCP: Model Context Protocol integration

Removed Features:
- experimental.ppr flag → Use cacheComponents: true
- next lint command → Use ESLint directly (eslint.config.mjs)
- AMP support completely removed
- eslint config in next.config.mjs → Use eslint.config.mjs

Cache Components:
- Enable with `cacheComponents: true` in next.config
- Use `"use cache"` directive on pages, components, functions
- Automatic cache key generation
- Explicit opt-in caching model

Deployment

Default: Vercel with Turbopack.

Mention alternatives (Node server, Docker) only when relevant.
